{"ast":null,"code":"var _jsxFileName = \"/Users/karahowes/Desktop/project-final-kh/frontend/src/components/Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch, batch } from 'react-redux';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { API_URL } from '../utils/urls';\nimport member from '../reducers/member';\n\nconst Login = () => {\n  const [membername, setMembername] = useState('');\n  const [password, setPassword] = useState('');\n  const [mode, setMode] = useState('signup');\n  const accessToken = useSelector(store => store.member.accessToken);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const errors = useSelector(store => store.user.error);\n  useEffect(() => {\n    if (accessToken) {\n      navigate('/');\n    }\n  }, [accessToken, navigate]);\n\n  const onFormSubmit = event => {\n    event.preventDefault();\n    const options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        membername,\n        password\n      })\n    };\n    fetch(API_URL(mode), options).then(res => res.json()).then(data => {\n      console.log(data);\n\n      if (data.success) {\n        batch(() => {\n          dispatch(member.actions.setMemberId(data.response.memberId));\n          dispatch(member.actions.setMembername(data.response.membername));\n          dispatch(member.actions.setAccessToken(data.response.accessToken));\n          dispatch(member.actions.setError(null));\n        });\n      } else {\n        batch(() => {\n          dispatch(member.actions.setMemberId(null));\n          dispatch(member.actions.setMembername(null));\n          dispatch(member.actions.setAccessToken(null));\n          dispatch(member.actions.setError(data.response));\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: \"mainContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 3\n    }\n  }, mode === 'signup' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 28\n    }\n  }, \"Create a user\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 77\n    }\n  }, \"Login with your user\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"choose-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"signup\",\n    type: \"radio\",\n    checked: mode === 'signup',\n    onChange: () => setMode('signup'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \"Sign up!\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"signin\",\n    type: \"radio\",\n    checked: mode === 'signin',\n    onChange: () => setMode('signin'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, \"Sign In!\"))), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: onFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"username\",\n    type: \"text\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, \"Password \", errors && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"warning-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 55\n    }\n  }, \"Please enter a password!\")), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"password\",\n    type: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }), mode === 'signup' ? /*#__PURE__*/React.createElement(\"button\", {\n    disabled: username.length < 5,\n    className: \"login\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 30\n    }\n  }, \"Create user\") : /*#__PURE__*/React.createElement(\"button\", {\n    disabled: username.length < 5,\n    className: \"login\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 124\n    }\n  }, \"Login\"), username.length < 5 ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 32\n    }\n  }, \"Your username needs to be longer than 5 characters!\") : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 113\n    }\n  })));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/karahowes/Desktop/project-final-kh/frontend/src/components/Login.js"],"names":["React","useState","useEffect","useSelector","useDispatch","batch","useNavigate","Link","API_URL","member","Login","membername","setMembername","password","setPassword","mode","setMode","accessToken","store","dispatch","navigate","errors","user","error","onFormSubmit","event","preventDefault","options","method","headers","body","JSON","stringify","fetch","then","res","json","data","console","log","success","actions","setMemberId","response","memberId","setAccessToken","setError","username","e","setUsername","target","value","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch, batch } from 'react-redux';\nimport { useNavigate, Link } from 'react-router-dom';\n\nimport { API_URL } from '../utils/urls';\nimport member from '../reducers/member';\n\nconst Login = () => {\n\tconst [membername, setMembername] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [mode, setMode] = useState('signup');\n\n\tconst accessToken = useSelector((store) => store.member.accessToken);\n\n\tconst dispatch = useDispatch();\n\tconst navigate = useNavigate();\n\tconst errors = useSelector(store => store.user.error);\n\n\tuseEffect(() => {\n\t\tif (accessToken) {\n\t\t\tnavigate('/');\n\t\t}\n\t}, [accessToken, navigate]);\n\n\tconst onFormSubmit = (event) => {\n\t\tevent.preventDefault();\n\n\t\tconst options = {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({ membername, password }),\n\t\t};\n\n\t\tfetch(API_URL(mode), options)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tif (data.success) {\n\t\t\t\t\tbatch(() => {\n\t\t\t\t\t\tdispatch(member.actions.setMemberId(data.response.memberId));\n\t\t\t\t\t\tdispatch(member.actions.setMembername(data.response.membername));\n\t\t\t\t\t\tdispatch(member.actions.setAccessToken(data.response.accessToken));\n\t\t\t\t\t\tdispatch(member.actions.setError(null));\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tbatch(() => {\n\t\t\t\t\t\tdispatch(member.actions.setMemberId(null));\n\t\t\t\t\t\tdispatch(member.actions.setMembername(null));\n\t\t\t\t\t\tdispatch(member.actions.setAccessToken(null));\n\t\t\t\t\t\tdispatch(member.actions.setError(data.response));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<main className=\"mainContainer\">\n      {mode === 'signup' ? <div className=\"top-login\">Create a user</div> : <div className=\"top-login\">Login with your user</div>}\n      \n      {/* <Link className=\"to-start\" to=\"/\">Go to start</Link> */}\n      <div className=\"choose-type\">\n        <div className=\"signup\">\n          <input\n            id=\"signup\"\n            type=\"radio\"\n            checked={mode === 'signup'}\n            onChange={() => setMode('signup')}\n          />\n          <label htmlFor=\"signup\">Sign up!</label>\n        </div>\n\n        <div className=\"signin\">\n          <input\n            id=\"signin\"\n            type=\"radio\"\n            checked={mode === 'signin'}\n            onChange={() => setMode('signin')}\n          />\n          <label htmlFor=\"signin\">Sign In!</label>\n        </div>\n      </div>\n\n      <form className=\"form\" onSubmit={onFormSubmit}>\n        <label htmlFor=\"username\">Username</label>\n        <input\n          id=\"username\"\n          type=\"text\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n        />\n\n        <label htmlFor=\"password\">Password {errors && <p className=\"warning-login\">Please enter a password!</p>}</label> \n        <input\n          id=\"password\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        {mode === 'signup' ? <button disabled={username.length < 5} className=\"login\" type=\"submit\">Create user</button> : <button disabled={username.length < 5} className=\"login\" type=\"submit\">Login</button>}\n        {username.length < 5 ? <p className=\"warning\">Your username needs to be longer than 5 characters!</p> : <p></p>}\n        \n      </form>\n    </main>\n\t);\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}